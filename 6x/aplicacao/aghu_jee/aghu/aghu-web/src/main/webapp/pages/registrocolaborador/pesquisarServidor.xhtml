<?xml version="1.0" encoding="UTF-8"?>

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:fn="http://xmlns.jcp.org/jsp/jstl/functions" xmlns:mec="http://xmlns.jcp.org/jsf/composite/components" xmlns:p="http://primefaces.org/ui" xmlns:pe="http://primefaces.org/ui/extensions" xmlns:aghu="http://xmlns.jcp.org/jsf/component" xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:c="http://xmlns.jcp.org/jsp/jstl/core" xmlns:mf="http://www.mec.gov.br/taglib">  
  <ui:composition template="/WEB-INF/templates/form_template.xhtml"> 
    <ui:define name="head"> 
      <title>Pesquisar Servidores :: AGHU - MEC</title> 
    </ui:define>  
    <ui:define name="metadata"> 
      <f:metadata> 
        <f:viewAction action="#{servidorPaginatorController.iniciar}"/> 
      </f:metadata> 
    </ui:define>  
    <ui:define name="body"> 
      <mec:pageConfig controller="#{servidorPaginatorController}"/>  
      <style xml:space="preserve">
			.tooltip {
			background-color:#f4f4f4;
			border-width: 1px;
			padding: 10px;
			color:#529214;		
			}
		</style>  
      <h:form prependId="false" id="formPesquisarServidores"> 
        <aghu:panelGeral legend="#{messages.LEGENDA_PESQUISAR_SERVIDORES}"> 
          <aghu:linha> 
			<mec:suggestionBox id="pessoaFisica" styleClassField="numerico"
				label="#{messages.LABEL_PESSOA}" title="#{messages.TITLE_PESSOA}"
				descricaoInput="codigo" size="11" maxlength="9" width="500"
				descricaoLabel="nome" suggestionAction="pesquisarPessoaFisica"
				controller="#{servidorPaginatorController}"
				value="#{servidorPaginatorController.pessoaFisica}"
				readonly="#{servidorPaginatorController.origemPesquisaPessoas}">
              <p:column> 
                <f:facet name="header"> 
                  <h:outputText value="#{messages.LABEL_CODIGO}"/> 
                </f:facet>  
                <h:outputText value="#{item.codigo}"/> 
              </p:column>  
              <p:column> 
                <f:facet name="header"> 
                  <h:outputText value="#{messages.LABEL_NOME}"/> 
                </f:facet>  
                <h:outputText value="#{item.nome}"/> 
              </p:column> 
            </mec:suggestionBox>  
            <mec:inputText id="usuario" value="#{servidorPaginatorController.usuario}" label="#{messages.CASCA_LABEL_LOGIN}" size="20" maxlength="20" title="#{messages.CASCA_TITULO_LOGIN}" removerCaratersEspeciais="false" readonly="#{servidorPaginatorController.pesquisaAutomatica}"/> 
          </aghu:linha>  
          <aghu:linha> 
            <mec:suggestionBox id="vinculo" styleClassField="numerico" label="#{messages.LABEL_VINCULO}" title="#{messages.TITLE_VINCULO}" size="11" maxlength="3" descricaoInput="codigo" descricaoLabel="descricao" suggestionAction="pesquisarVinculo" controller="#{servidorPaginatorController}" value="#{servidorPaginatorController.vinculo}"> 
              <p:column> 
                <f:facet name="header"> 
                  <h:outputText value="#{messages.LABEL_CODIGO}"/> 
                </f:facet>  
                <h:outputText value="#{item.codigo}"/> 
              </p:column>  
              <p:column> 
                <f:facet name="header"> 
                  <h:outputText value="#{messages.LABEL_DESCRICAO}"/> 
                </f:facet>  
                <h:outputText value="#{item.descricao}"/> 
              </p:column> 
            </mec:suggestionBox>  
            <mec:inputNumero id="matricula" value="#{servidorPaginatorController.matricula}" label="#{messages.LABEL_MATRICULA}" size="13" maxlength="#{servidorPaginatorController.tamanhoMatricula}" title="#{messages.TITLE_MATRICULA_SERVIDOR}" readonly="#{servidorPaginatorController.pesquisaAutomatica}"/>  
            <mec:selectOneMenu id="situacao" label="#{messages.LABEL_IND_SITUACAO}" enum="DominioSituacaoVinculo" value="#{servidorPaginatorController.indSituacao}" title="#{messages.TITLE_IND_SITUACAO_SERVIDOR}" readonly="#{servidorPaginatorController.pesquisaAutomatica}" stopEnter="true"/>  
            <mec:selectOneMenu enum="DominioTipoRemuneracao" label="#{messages.LABEL_TIPO_REMUNERACAO}" title="#{messages.TITLE_TIPO_REMUNERACAO_SERVIDOR}" value="#{servidorPaginatorController.tipoRemuneracao}" readonly="#{servidorPaginatorController.pesquisaAutomatica}" stopEnter="true" id="tipoRemuneracao"/> 
          </aghu:linha>  
          <aghu:linha> 
            <mec:suggestionBox id="centroCustoLotacao" styleClassField="numerico" label="#{messages.LABEL_CCUSTO_LOTACAO}" title="#{messages.TITLE_CCUSTO_LOTACAO}" descricaoInput="codigo" descricaoLabel="descricao" size="10" maxlength="6" width="500" suggestionAction="pesquisarCCLotacao" controller="#{servidorPaginatorController}" value="#{servidorPaginatorController.centroCustoLotacao}"> 
              <p:column> 
                <f:facet name="header"> 
                  <h:outputText value="#{messages.LABEL_CODIGO}"/> 
                </f:facet>  
                <h:outputText value="#{item.codigo}"/> 
              </p:column>  
              <p:column> 
                <f:facet name="header"> 
                  <h:outputText value="#{messages.LABEL_DESCRICAO}"/> 
                </f:facet>  
                <h:outputText value="#{item.descricao}"/> 
              </p:column> 
            </mec:suggestionBox>  
            <mec:suggestionBox id="centroCustoAtuacao" styleClassField="numerico" label="#{messages.LABEL_CCUSTO_ATUACAO}" title="#{messages.TITLE_CCUSTO_ATUACAO}" size="11" maxlength="6" width="500" descricaoInput="codigo" descricaoLabel="descricao" suggestionAction="pesquisarCCAtuacao" controller="#{servidorPaginatorController}" value="#{servidorPaginatorController.centroCustoAtuacao}"> 
              <p:column> 
                <f:facet name="header"> 
                  <h:outputText value="#{messages.LABEL_CODIGO}"/> 
                </f:facet>  
                <h:outputText value="#{item.codigo}"/> 
              </p:column>  
              <p:column> 
                <f:facet name="header"> 
                  <h:outputText value="#{messages.LABEL_DESCRICAO}"/> 
                </f:facet>  
                <h:outputText value="#{item.descricao}"/> 
              </p:column> 
            </mec:suggestionBox> 
          </aghu:linha>  
          <aghu:linha> 
			<mec:suggestionBox id="ocupacaoCargo" styleClassField="numerico"
				label="#{messages.LABEL_OCUPACAO}"
				title="#{messages.TITLE_OCUPACAO_CARGO}" size="10" maxlength="6"
				descricaoInput="codigoOcupacao" descricaoLabel="descricaoOcupacao"
				suggestionAction="pesquisarOcupacao"
				controller="#{servidorPaginatorController}"
				value="#{servidorPaginatorController.ocupacaoCargo}">
              <p:column> 
                <f:facet name="header"> 
                  <h:outputText value="#{messages.LABEL_CODIGO}"/> 
                </f:facet>  
                <h:outputText value="#{item.codigoOcupacao}"/> 
              </p:column>  
              <p:column> 
                <f:facet name="header"> 
                  <h:outputText value="#{messages.LABEL_DESCRICAO}"/> 
                </f:facet>  
                <h:outputText value="#{item.descricaoOcupacao}"/> 
              </p:column> 
            </mec:suggestionBox> 
          </aghu:linha>  
          <aghu:linha> 
            <mec:selectBooleanCheckbox label="#{messages.LABEL_VINCULO_PROXIMO_EXPIRAR}" id="checkVinculo" title="#{messages.TITLE_VINCULO_PROXIMO_EXPIRAR}" value="#{servidorPaginatorController.expirarVinculo}"/> 
          </aghu:linha> 
        </aghu:panelGeral>  
        <aghu:acao> 
          <mec:commandButton id="pesquisar" value="#{messages.LABEL_PESQUISAR}" action="#{servidorPaginatorController.pesquisar}" profile="search" styleClass="bt_verde "/>  
          <mec:commandButton value="#{messages.LABEL_LIMPAR}" action="#{servidorPaginatorController.limpar}" immediate="true" styleClass="bt_cinza" profile="clear"/>  
          <p:outputPanel rendered="#{servidorPaginatorController.exibirNovo}" layout="inline"> 
            <mec:commandButton value="#{messages.LABEL_NOVO}" title="#{messages.LABEL_NOVO}" action="#{servidorPaginatorController.inserir}" profile="add"/> 
          </p:outputPanel>  
          <p:outputPanel rendered="#{servidorPaginatorController.pesquisaAutomatica}" layout="inline"> 
            <mec:commandButton value="#{messages.LABEL_VOLTAR}" action="#{servidorPaginatorController.getVoltarPara}" styleClass="bt_vermelho icon-back bt_cinza" profile="back"/> 
          </p:outputPanel> 
        </aghu:acao> 
      </h:form>  
      <h:form prependId="false" id="resultados"> 
        <mec:serverDataTable id="tabelaServidor" dataModel="dataModel" controller="#{servidorPaginatorController}"> 
          <c:set var="_servidor" value="#{item}"/>  
          <p:column headerText="Ações" styleClass="first-column auto-adjust" exportable="false" style="width: 70px;"> 
            <mec:commandLink id="tabelaServidor_link_editar" profile="edit" title="editar" action="#{servidorPaginatorController.editar}"> 
              <f:setPropertyActionListener target="#{servidorController.codigoMatricula}" value="#{_servidor.id.matricula}" for="command"/>  
              <f:setPropertyActionListener target="#{servidorController.codigoVinculo}" value="#{_servidor.id.vinCodigo}" for="command"/>  
              <f:setPropertyActionListener for="command" target="#{servidorPaginatorController.servidor}" value="#{_servidor}"/> 
            </mec:commandLink>  
            <f:facet name="header"> 
              <h:outputText value="#{messages.LABEL_ACAO}"/> 
            </f:facet>  
            <mec:commandLink title="#{messages.LABEL_DEPENDENTES_SERVIDOR}" action="#{servidorPaginatorController.pesquisarDependente}" rendered="#{servidorPaginatorController.renderizaDependente(_servidor)}" styleClass=" silk-dependentes silk-icon"> 
              <f:setPropertyActionListener target="#{dependentePaginatorController.servidor}" value="#{_servidor}" for="command"/>  
              <f:setPropertyActionListener target="#{dependentePaginatorController.voltarPara}" value="pesquisarServidor" for="command"/> 
            </mec:commandLink>  
            <mec:commandLink title="#{messages.LABEL_GRADUACAO_SERVIDOR}" action="#{servidorPaginatorController.pesquisarGraduacaoServidor}" styleClass=" silk-diploma silk-icon"> 
              <f:setPropertyActionListener target="#{graduacaoServidorPaginatorController.servidor}" value="#{_servidor}" for="command"/>  
              <f:setPropertyActionListener target="#{graduacaoServidorPaginatorController.voltarPara}" value="pesquisarServidor" for="command"/> 
            </mec:commandLink>  
            <mec:commandLink title="#{messages.LABEL_INFORMACOES_COMPLEMENTARES}" action="#{servidorPaginatorController.pesquisarPessoaTipoInformacoes}" styleClass=" silk-information silk-icon"> 
              <f:setPropertyActionListener target="#{pessoaTipoInformacoesPaginatorController.servidorSelecionado}" value="#{_servidor}" for="command"/>  
              <f:setPropertyActionListener target="#{pessoaTipoInformacoesPaginatorController.voltarPara}" value="pesquisarServidor" for="command"/> 
            </mec:commandLink> 
          </p:column>  
          <p:column width="50px;"> 
            <f:facet name="header"> 
              <h:outputText value="#{messages.LABEL_VINCULO}"/> 
            </f:facet>  
            <h:outputText value="#{_servidor.id.vinCodigo}"/> 
          </p:column>  
          <p:column width="100px;"> 
            <f:facet name="header"> 
              <h:outputText value="#{messages.LABEL_MATRICULA}"/> 
            </f:facet>  
            <h:outputText value="#{_servidor.id.matricula}"/> 
          </p:column>  
          <p:column width="50px;"> 
            <f:facet name="header"> 
              <h:outputText value="#{messages.LABEL_CODIGO}"/> 
            </f:facet>  
            <h:outputText value="#{_servidor.pessoaFisica.codigo}"/> 
          </p:column>  
          <p:column> 
            <f:facet name="header"> 
              <h:outputText value="#{messages.LABEL_NOME}"/> 
            </f:facet>  
            <h:outputText value="#{_servidor.pessoaFisica.nome}"/> 
          </p:column>  
          <p:column width="80px;"> 
            <f:facet name="header"> 
              <h:outputText value="#{messages.LABEL_USUARIO}"/> 
            </f:facet>  
            <h:outputText value="#{_servidor.usuario}"/> 
          </p:column>  
          <p:column width="100px;"> 
            <f:facet name="header"> 
              <h:outputText value="#{messages.LABEL_CCUSTO_LOTACAO}"/> 
            </f:facet>  
            <p:outputPanel layout="block"> 
              <p:tooltip direction="bottom-right" styleClass="tooltip" layout="block" rendered="#{_servidor.centroCustoLotacao.codigo!=null}"> 
                <h:outputText value="#{messages.LABEL_DESCRICAO}:" style="font-weight: bold;"/>  
                <h:outputText value=" #{_servidor.centroCustoLotacao.descricao}"/> 
              </p:tooltip>  
              <h:outputText value="#{_servidor.centroCustoLotacao.codigo}"/> 
            </p:outputPanel> 
          </p:column>  
          <p:column width="100px;"> 
            <f:facet name="header"> 
              <h:outputText value="#{messages.LABEL_CCUSTO_ATUACAO}"/> 
            </f:facet>  
            <p:outputPanel layout="block"> 
              <p:tooltip direction="bottom-right" styleClass="tooltip" layout="block" rendered="#{_servidor.centroCustoAtuacao.codigo!=null}"> 
                <h:outputText value="#{messages.LABEL_DESCRICAO}:" style="font-weight: bold;"/>  
                <h:outputText value=" #{_servidor.centroCustoAtuacao.descricao}"/> 
              </p:tooltip>  
              <h:outputText value="#{_servidor.centroCustoAtuacao.codigo}"/> 
            </p:outputPanel> 
          </p:column>  
          <p:column width="50px;"> 
            <f:facet name="header"> 
              <h:outputText value="#{messages.LABEL_OCUPACAO}"/> 
            </f:facet>  
            <p:outputPanel layout="block"> 
              <p:tooltip direction="bottom-right" styleClass="tooltip" layout="block" rendered="#{_servidor.ocupacaoCargo.id.codigo!=null}"> 
                <h:outputText value="#{messages.LABEL_DESCRICAO}:" style="font-weight: bold;"/>  
                <h:outputText value=" #{servidorPaginatorController.buscarDescricaoOcupacoCargo(_servidor.ocupacaoCargo.id.codigo, _servidor.ocupacaoCargo.descricao)}"/> 
              </p:tooltip>  
              <h:outputText value="#{_servidor.ocupacaoCargo.id.codigo}"/> 
            </p:outputPanel> 
          </p:column>  
          <p:column width="100px;"> 
            <f:facet name="header"> 
              <h:outputText value="#{messages.LABEL_REMUNERACAO}"/> 
            </f:facet>  
            <h:outputText value="#{_servidor.tipoRemuneracao.descricao}"/> 
          </p:column>  
          <p:column width="80px;"> 
            <f:facet name="header"> 
              <h:outputText value="#{messages.LABEL_IND_SITUACAO}"/> 
            </f:facet>  
            <h:outputText value="#{_servidor.indSituacao.descricao}"/> 
          </p:column> 
        </mec:serverDataTable> 
      </h:form> 
    </ui:define> 
  </ui:composition> 
</html>
