<?xml version="1.0" encoding="UTF-8"?>

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:fn="http://xmlns.jcp.org/jsp/jstl/functions"
	xmlns:mec="http://xmlns.jcp.org/jsf/composite/components"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions"
	xmlns:aghu="http://xmlns.jcp.org/jsf/component"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
	xmlns:mf="http://www.mec.gov.br/taglib">
<ui:composition template="/WEB-INF/templates/form_template.xhtml">
	<ui:define name="head">
		<title>Trocar Senha :: CASCA - MEC</title>
	</ui:define>
	<ui:define name="body">
		<mec:pageConfig controller="#{senhaController}" ignoreEnter="true" />
		<h:form prependId="false" id="trocarSenhaForm"
			rendered="#{senhaController.possivelAlterarSenhaAghu}">
			<aghu:panelGeral legend="Alteração de Senha">
				<aghu:linha>
					<mec:field label="#{messages.CASCA_LABEL_SENHA_ATUAL}" id="senhaAtualField"
		        		title="#{messages.CASCA_TITULO_SENHA_ATUAL}" 
		        		required="true">
						<p:password name="senhaAtual"
							value="#{senhaController.senhaAtual}"
							required="true" id="senhaAtual" />
					</mec:field>
					<mec:field label="#{messages.CASCA_LABEL_NOVA_SENHA}" id="novaSenhaField"
		        	  title="#{messages.CASCA_TITULO_NOVA_SENHA}" 
		        		required="true">
						<p:password name="novaSenha" maxlength="20"
							value="#{senhaController.novaSenha}" required="true"
							id="novaSenha" />
					</mec:field>
					<mec:field label="#{messages.CASCA_LABEL_CONFIRMAR_SENHA}" id="confirmarSenhaField"
		        		 title="#{messages.CASCA_TITULO_CONFIRMAR_SENHA}" 
		        		required="true">
						<p:password	name="confirmarSenha" maxlength="20" id="confirmarSenha"
							value="#{senhaController.confirmarSenha}" required="true" />
					</mec:field>
				</aghu:linha>
			</aghu:panelGeral>
			<aghu:acao>
				<mec:commandButton id="botaoSalvar"
					value="#{messages.CASCA_LABEL_SALVAR}" block="true"
					action="#{senhaController.salvar}" profile="ok" />
				<mec:commandButton id="botaoRedirecionar"
					value="#{messages.CASCA_LABEL_REDIRECIONAR}" block="true"
					rendered="#{senhaController.isRedirecionar()}" immediate="true"
					action="#{senhaController.redirecionar}" styleClass="bt_cinza" />
			</aghu:acao>
		</h:form>
		<p:outputPanel rendered="#{!senhaController.possivelAlterarSenhaAghu}"
			styleClass="aghu-panel-geral">
			<aghu:panelGeral legend="Alteração de Senha">
				<aghu:linha>
					<b>#{messages.CASCA_NAO_POSSIVEL_ALTERAR_SENHA_AGHU}</b>
				</aghu:linha>
			</aghu:panelGeral>
		</p:outputPanel>
	</ui:define>
</ui:composition>
</html>
